{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Julie\\\\Desktop\\\\contact-keeper\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:\\\\Users\\\\Julie\\\\Desktop\\\\contact-keeper\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useContext,useEffect}from\"react\";import AlertContext from\"../../context/alert/alertContext\";import AuthContext from\"../../context/auth/authContext\";var Register=function Register(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push(\"/\");}if(error===\"User already exists\"){setAlert(error,\"danger\");clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:\"\",email:\"\",password:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){return setUser(_objectSpread({},user,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===\"\"||email===\"\"||password===\"\"){setAlert(\"Please enter all fields\",\"danger\");}else if(password!==password2){setAlert(\"Passwords do not match\",\"danger\");}else{register({name:name,email:email,password:password});}};return React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"h1\",null,\"Account \",React.createElement(\"span\",{className:\"text-primary\"},\"Register\")),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,minLength:\"6\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password2\"},\"Confirm Password\"),React.createElement(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,required:true,minLength:\"6\"})),React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn_primary btn-block\"})));};export default Register;","map":{"version":3,"sources":["C:/Users/Julie/Desktop/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"4iCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACxB,GAAMC,CAAAA,YAAY,CAAGN,UAAU,CAACE,YAAD,CAA/B,CACA,GAAMK,CAAAA,WAAW,CAAGP,UAAU,CAACG,WAAD,CAA9B,CAFwB,GAIhBK,CAAAA,QAJgB,CAIHF,YAJG,CAIhBE,QAJgB,IAKhBC,CAAAA,QALgB,CAKkCF,WALlC,CAKhBE,QALgB,CAKNC,KALM,CAKkCH,WALlC,CAKNG,KALM,CAKCC,WALD,CAKkCJ,WALlC,CAKCI,WALD,CAKcC,eALd,CAKkCL,WALlC,CAKcK,eALd,CAOxBX,SAAS,CAAC,UAAM,CACd,GAAIW,eAAJ,CAAqB,CACnBP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACD,CACD,GAAIJ,KAAK,GAAK,qBAAd,CAAqC,CACnCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACZ,CACD;AACD,CATQ,CASN,CAACD,KAAD,CAAQE,eAAR,CAAyBP,KAAK,CAACQ,OAA/B,CATM,CAAT,CAPwB,cAkBAd,QAAQ,CAAC,CAC/BgB,IAAI,CAAE,EADyB,CAE/BC,KAAK,CAAE,EAFwB,CAG/BC,QAAQ,CAAE,EAHqB,CAI/BC,SAAS,CAAE,EAJoB,CAAD,CAlBR,wCAkBjBC,IAlBiB,eAkBXC,OAlBW,kBAyBhBL,CAAAA,IAzBgB,CAyBqBI,IAzBrB,CAyBhBJ,IAzBgB,CAyBVC,KAzBU,CAyBqBG,IAzBrB,CAyBVH,KAzBU,CAyBHC,QAzBG,CAyBqBE,IAzBrB,CAyBHF,QAzBG,CAyBOC,SAzBP,CAyBqBC,IAzBrB,CAyBOD,SAzBP,CA2BxB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIF,CAAAA,OAAO,kBAAMD,IAAN,oBAAaG,CAAC,CAACC,MAAF,CAASR,IAAtB,CAA6BO,CAAC,CAACC,MAAF,CAASC,KAAtC,GAAX,EAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAH,CAAC,CAAI,CACpBA,CAAC,CAACI,cAAF,GACA,GAAIX,IAAI,GAAK,EAAT,EAAeC,KAAK,GAAK,EAAzB,EAA+BC,QAAQ,GAAK,EAAhD,CAAoD,CAClDT,QAAQ,CAAC,yBAAD,CAA4B,QAA5B,CAAR,CACD,CAFD,IAEO,IAAIS,QAAQ,GAAKC,SAAjB,CAA4B,CACjCV,QAAQ,CAAC,wBAAD,CAA2B,QAA3B,CAAR,CACD,CAFM,IAEA,CACLC,QAAQ,CAAC,CACPM,IAAI,CAAJA,IADO,CAEPC,KAAK,CAALA,KAFO,CAGPC,QAAQ,CAARA,QAHO,CAAD,CAAR,CAKD,CACF,CAbD,CAeA,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,yCACU,4BAAM,SAAS,CAAC,cAAhB,aADV,CADF,CAIE,4BAAM,QAAQ,CAAEQ,QAAhB,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,MAAf,SADF,CAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEV,IAHT,CAIE,QAAQ,CAAEM,QAJZ,CAKE,QAAQ,KALV,EAFF,CADF,CAWE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,OAAf,kBADF,CAEE,6BACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAEL,KAHT,CAIE,QAAQ,CAAEK,QAJZ,CAKE,QAAQ,KALV,EAFF,CAXF,CAqBE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,UAAf,aADF,CAEE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEJ,QAHT,CAIE,QAAQ,CAAEI,QAJZ,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,EAFF,CArBF,CAgCE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,WAAf,qBADF,CAEE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,WAFP,CAGE,KAAK,CAAEH,SAHT,CAIE,QAAQ,CAAEG,QAJZ,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,EAFF,CAhCF,CA2CE,6BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,UAFR,CAGE,SAAS,CAAC,2BAHZ,EA3CF,CAJF,CADF,CAwDD,CApGD,CAsGA,cAAejB,CAAAA,QAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport AlertContext from \"../../context/alert/alertContext\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\n\r\nconst Register = props => {\r\n  const alertContext = useContext(AlertContext);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const { register, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      props.history.push(\"/\");\r\n    }\r\n    if (error === \"User already exists\") {\r\n      setAlert(error, \"danger\");\r\n      clearErrors();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password2: \"\"\r\n  });\r\n\r\n  const { name, email, password, password2 } = user;\r\n\r\n  const onChange = e => setUser({ ...user, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (name === \"\" || email === \"\" || password === \"\") {\r\n      setAlert(\"Please enter all fields\", \"danger\");\r\n    } else if (password !== password2) {\r\n      setAlert(\"Passwords do not match\", \"danger\");\r\n    } else {\r\n      register({\r\n        name,\r\n        email,\r\n        password\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='form-container'>\r\n      <h1>\r\n        Account <span className='text-primary'>Register</span>\r\n      </h1>\r\n      <form onSubmit={onSubmit}>\r\n        <div className='form-group'>\r\n          <label htmlFor='name'>Name</label>\r\n          <input\r\n            type='text'\r\n            name='name'\r\n            value={name}\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='email'>Email Address</label>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            value={email}\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='password'>Password</label>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            value={password}\r\n            onChange={onChange}\r\n            required\r\n            minLength='6'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='password2'>Confirm Password</label>\r\n          <input\r\n            type='password'\r\n            name='password2'\r\n            value={password2}\r\n            onChange={onChange}\r\n            required\r\n            minLength='6'\r\n          />\r\n        </div>\r\n        <input\r\n          type='submit'\r\n          value='Register'\r\n          className='btn btn_primary btn-block'\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}